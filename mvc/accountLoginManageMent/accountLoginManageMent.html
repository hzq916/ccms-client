<div class="common_page_html common_scroll_div" ng-controller="accountLoginManageCtrl">
        <div class="common_normal_operate_div common_nowrap">
    
            <input type="text" class = "common_normal_input common_line_unend_item common_search_input_length" ng-model="findAssetAccount"
                placeholder="请输入要查询的资产账户ID或名称">
            <label for="">资产管理人：</label>
            <select ng-init="currentTamgr" ng-model="currentTamgr"  class="common_dropdown common_line_unend_item" ng-change="getProducts(currentTamgr.maid);"
                  ng-options="assetManager.fullName for assetManager in allAssetManager">
            </select>
            <button type="button" class = "common_blue_btn common_normal_btn common_line_unend_item common_default_length"   ng-click="getAssetAccountsDetail(currentTamgr)">刷新</button>
            <!-- <button type="button" class = "common_blue_btn common_normal_btn common_line_unend_item common_default_length" ng-if = "menuRight.indexOf(2002001001) != -1"  ng-click="authorizeAssetAccount()" ng-disabled="typeof currentTamgr.maid='undefined'">授权</button> -->
            <!-- <button type="button" class = "common_blue_btn common_normal_btn common_line_unend_item common_default_length" ng-if = "menuRight.indexOf(2002001008) != -1"  ng-click="exportAccountList()">导出</button> -->
            <button type="button" class = "common_blue_btn common_normal_btn common_line_unend_item common_default_length" ng-disabled="loginAllState"  ng-if = "menuRight.indexOf(2002001002002) != -1"  ng-click="clickLoginAll()" style="width: 90px;">一键登录重试</button>
        </div>
    
        <div class="common_scroll_div common_normal_data_div" >
            <table class="common_fixed_table" onclick="cms.addClassToTableHead(event,'common_activeTH');">
              <thead>
                <tr >
                  <th class = "common_nowrap" ng-click = "clickTableHeader('maid',true)">
                      <span ng-show = "keyName == 'maid'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                      资产管理人
                  </th>
                  <th class = "common_nowrap" ng-click = "clickTableHeader('caid',true)">
                      <span ng-show = "keyName == 'caid'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                      产品
                  </th>
                  <th class = "common_nowrap" ng-click = "clickTableHeader('bacid',true)">
                      <span ng-show = "keyName == 'bacid'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                      经纪商资金账号
                  </th>
                  <th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('acid',true)">
                      <span ng-show = "keyName == 'acid'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                      资产账户
                  </th>
                  <th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('actype',true)">
                      <span ng-show = "keyName == 'actype'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                      经纪商客户号
                  </th>
                  <th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('validamt',true)">
                      <span ng-show = "keyName == 'validamt'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                      账户类型
                  </th>
                  <th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('totalamt',true)">
                      <span ng-show = "keyName == 'totalamt'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                      登录状态
                  </th>
                  <th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('bacidcard')">
                      <span ng-show = "keyName == 'bacidcard'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                      登录信息
                  </th>
                  <th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('bact_name')">
                      <span ng-show = "keyName == 'bact_name'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                      登录失败次数
                  </th>
                  <th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('lastlogin',true)">
                      <span ng-show = "keyName == 'lastlogin'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                      最近一次登录时间
                  </th>
                  <th class = "common_center_align common_nowrap">操作</th>
    
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="assetAccount in allAssetAccount |myfilter : findAssetAccount | orderBy:keyName:false:sortFunction"
                  ng-class="{'unbind_assetaccount': (assetAccount.caid == -1), 'common_activeTr': currAssetAccount.acid == assetAccount.acid}" ng-click="clickAssetAccountTR(assetAccount)">
                  <td class = " common_nowrap">{{assetAccount.maname+"("+assetAccount.maid+")"}}</td>
                  <td class = "common_center_align common_nowrap">
                        <label ng-show="assetAccount.caid == -1">--</label>
                        <label ng-show="assetAccount.caid != -1">{{assetAccount.caname+"("+assetAccount.caid+")"}}</label>
                    </td>
                  <td class = " common_nowrap">{{assetAccount.bacid}}</td>
                  <td class = "common_center_align common_nowrap">
                      <label ng-show="assetAccount.caid == -1">--</label>
                      <label ng-show="assetAccount.caid != -1">{{assetAccount.acname+"("+assetAccount.acid+")"}}</label>
                  </td>
                  <td class = "common_center_align common_nowrap">{{assetAccount.bacidcard}}</td>
                  <td class = "common_right_align common_nowrap">{{assetAccount.actypeStr}}</td>
                  <td class = "common_right_align common_nowrap">{{ assetAccount.loginstat === '1' ? "已登录" : "未登录"}}</td>
                  <td class = "common_center_align common_nowrap"><div style="width: 80px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;" title="{{assetAccount.lastbrokermsg}}">{{assetAccount.lastbrokermsg}}</div></td>
                  <td class = "common_center_align common_nowrap">{{assetAccount.loginfailcount}}</td>
                  <td class = "common_center_align common_nowrap">
                      {{ assetAccount.lastlogin}}
                  </td>
                  <td class = "common_center_align common_nowrap">
    
                    <!-- <button class = "common_table_operate_text" ng-if = "menuRight.indexOf(2002001002) != -1" ng-click="operateAssetAccount(assetAccount.acid,'bindAssetAccount',assetAccount)" ng-show="assetAccount.caid == -1">
                        绑定产品
                    </button> -->
                    <button class = "common_table_operate_text" ng-disabled="assetAccount.loginAgainState"   ng-click="clickLoginAgain(assetAccount, $index)">登录重试</button>
                    <label class = "account_table_option_divider">|</label>
    
                    <button class = "common_table_operate_text" ng-if = "menuRight.indexOf(2002001001003) != -1" ng-click="operateAssetAccount(assetAccount.acid,'editAssetAccount', assetAccount)" ng-show="assetAccount.caid != -1">修改信息</button>
                    <label class = "account_table_option_divider" ng-if = "menuRight.indexOf(2002001001003) != -1"  ng-show="assetAccount.caid != -1">|</label>
    
                    <!-- <button class = "common_table_operate_text" ng-if = "menuRight.indexOf(2002001004) != -1" ng-click="setTaacctFund(assetAccount)" ng-show="assetAccount.caid != -1">资金设置</button>
                    <label class = "account_table_option_divider" ng-if = "menuRight.indexOf(2002001004) != -1"  ng-show="assetAccount.caid != -1">|</label> -->
    
                    <!-- <label class = "common_table_option_label" ng-click="enterChangeTaacctFund(assetAccount)">资金调整</label>
                    <label class = "account_table_option_divider">|</label> -->
    
                    <!-- <button class = "common_table_operate_text" ng-if = "menuRight.indexOf(2002001005) != -1" ng-click="tradeManage(assetAccount)" ng-show="assetAccount.caid != -1">交易账户管理</button>
                    <label class = "account_table_option_divider" ng-if = "menuRight.indexOf(2002001005) != -1" ng-show="assetAccount.caid != -1">|</label> -->
    
                    <button class = "common_table_operate_text" ng-if = "menuRight.indexOf(2002001001006) != -1"  ng-click = "accountChangePass(assetAccount)" ng-show="assetAccount.caid != -1">密码修改</button>
                    <label class = "account_table_option_divider" ng-if = "menuRight.indexOf(2002001001006) != -1"   ng-show="assetAccount.caid != -1">|</label>
    
                    <button class = "common_table_operate_text" ng-if = "menuRight.indexOf(2002001001007) != -1" ng-click="accountResetPass(assetAccount)" ng-show="assetAccount.caid != -1">重置密码</button>
    
                    <!-- <label class = "account_table_option_divider" ng-if = "menuRight.indexOf(2002001007) != -1" ng-show="assetAccount.caid != -1">|</label> -->
    
                    <!-- <button class = "common_table_operate_text" ng-if = "menuRight.indexOf(2002001009) != -1 && assetAccount.actype == '1' && assetAccount.associate_acid == '0'" ng-click = "createOptionAccount(assetAccount)" ng-show="assetAccount.caid != -1">期权账户绑定</button>
                    <label class = "account_table_option_divider" ng-if = "menuRight.indexOf(2002001009) != -1 && assetAccount.actype == '1' && assetAccount.associate_acid == '0'"  ng-show="assetAccount.caid != -1">|</label> -->
    
    
                  </td>
                </tr>
              </tbody>
            </table>
        </div>
        <div class = "common_modal_back" id = "accountLoginManage_modal_back">
            <div ng-include = "modalInfo.path" onload = "accountLoginManageLoadModalReady()"></div>
        </div>
        <div class = "common_modal_back_lv2" id = "accountLoginManage_modal_back2">
                <div ng-include = "modalInfoLv2.path" onload = "accountLoginManageLoadModal2Ready()"></div>
            </div>
        <div class = "common_modal_back" id = "accountLoginManage_editTips_back">
            <div ng-include = "tipsInfo.path" onload = "accountLoginEditTipsLoad()"></div>
        </div>
    </div>
    