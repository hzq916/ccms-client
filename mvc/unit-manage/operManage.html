<div class = "common_page_html common_scroll_div" ng-controller = "operManageCtrl" ng-init = "operManageInit()">
    <div class = "common_normal_operate_div common_nowrap">
        <input type="text" class = "common_normal_input common_line_unend_item common_search_input_length" placeholder = "请输入操作员编号或姓名进行过滤" ng-model = "filterContent" ng-change = "operManageFilter()">
		<label class = "common_form_pre_label">资产管理人：</label>
		<select class="common_dropdown common_line_unend_item operManage_Add_dropdown "  ng-change="operManage_tamgrChanged()" ng-options = "x.displayName for x in operManage_maidList" ng-model = "selectedTamgr"></select>
		<button type="button" class = "common_blue_btn common_normal_btn common_line_unend_item common_default_length" ng-if = "menuRight.indexOf(2001004001) != -1" ng-click = "operManage_AddOper()" >新 建</button>
		<button type="button" class = "common_blue_btn common_normal_btn common_line_unend_item common_default_length" ng-click = "refreshOperDataTable()" >刷 新</button>
		<!-- <button type="button" class = " common_normal_btn common_line_unend_item common_default_length" style="background: white;color: #099DDC;">>>更多操作</button> -->
		<button type="button" class = "common_blue_btn common_normal_btn common_line_unend_item common_default_length" ng-if = "menuRight.indexOf(2001004006) != -1" ng-click = "exportOperList()" style="width: 100px;" >导出操作员列表</button>
		<button type="button" class = "common_blue_btn common_normal_btn common_line_unend_item common_default_length" ng-if = "menuRight.indexOf(2001004010) != -1" ng-click = "importOperMacBindDataClick()" ng-mouseover="operMacShowTips(true)" ng-mouseout="operMacShowTips(false)">终端导入</button>
		<button type="button" class = "common_blue_btn common_normal_btn common_line_unend_item common_default_length" ng-if = "menuRight.indexOf(2001004011) != -1" ng-click = "exportOperMacBindDataClick()" >终端导出</button>
	</div>
	<form id = "operMacBind_import_open_file_form" action="index.html" method="post" style = "display:none">
			<input type="file" id = "operMacBind_import_open_file" accept="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,.csv">
		</form>
		<div class= "operMacBind_import_tip" ng-show = "showImportTips">
			<label class = "operMacBind_import_tip_label">导入数据,表正确格式为:</label>
			<table class = "common_table" style = "width:410px;">
				<thead>
					<th class="common_center_align">操作员编号</th>
					<th class="common_center_align">MAC地址</th>
					<th class="common_center_align">IP地址</th>
				</thead>
				<tbody>
					<tr>
						<td class="common_center_align">581001</td>
						<td class="common_center_align">601a062837bc</td>
						<td class="common_center_align">172.24.2.64</td>
					</tr>
				</tbody>
			</table>
		</div>
	<div class = "common_normal_data_div common_scroll_div">
		<table class = "common_fixed_table" onclick="cms.addClassToTableHead(event,'common_activeTH')">
			<thead >
				<tr >
					<th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('oid',true)">
                        <span ng-show = "keyName == 'oid'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                        操作员编号
                    </th>
					<th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('oname')">
                        <span ng-show = "keyName == 'oname'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                        操作员姓名
                    </th>
					<th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('phone',true)">
                        <span ng-show = "keyName == 'phone'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                        联系电话
                    </th>
					<th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('email',true)">
                        <span ng-show = "keyName == 'email'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                        电子邮箱
                    </th>
					<th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('idcard',true)">
                        <span ng-show = "keyName == 'idcard'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                        身份证号
                    </th>
					<th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('rolename',true)">
                        <span ng-show = "keyName == 'rolename'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                        角色
                    </th>
					<th class = "common_center_align common_nowrap" ng-click = "clickTableHeader('stat')">
                        <span ng-show = "keyName == 'stat'" ng-class = "{common_sort_icon:!reverse,common_sort_desc_icon:reverse}"></span>
                        状态
                    </th>
					<th class = "common_center_align common_nowrap">操作</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="cell in operManage_operList | orderBy:keyName:false:sortFunction" ng-class = "{true:'common_activeTr',false:''}[$index == curClickedIndex ]" ng-click="itemClicked($index)" ng-show="cell.show" >
					<td class = "common_center_align common_nowrap">
						<label>{{cell.oid}}</label>
					</td>
					<td class = "common_center_align common_nowrap">
						<label>{{cell.oname}}</label>
					</td>
					<td class = "common_center_align common_nowrap">
						<label>{{cell.phone}}</label>
					</td>
					<td class = "common_center_align common_nowrap">
						<label>{{cell.email}}</label>
					</td>
					<td class = "common_center_align common_nowrap">
						<label>{{cell.idcard}}</label>
					</td>
					<td class = "common_center_align common_nowrap">
						<label>{{cell.rolename}}</label>
					</td>
					<td class = "common_center_align common_nowrap">
						<label>{{cell.stat==1?"可用":"不可用"}}</label>
					</td>
					<td class = "common_center_align common_nowrap">
						<button class = "common_table_operate_text" ng-if = "menuRight.indexOf(2001004002) != -1" ng-click = "showFreezeOperDlg(cell)">{{cell.stat==1 ? "冻结" : "解冻"}}</button>
						<label class = "common_table_operate_divider" ng-if = "menuRight.indexOf(2001004002) != -1 " >|</label>
						<button class = "common_table_operate_text" ng-if = "menuRight.indexOf(2001004003) != -1" ng-click = "showAltOperInfoDlg(cell)">基本信息修改</button>
						<label class = "common_table_operate_divider" ng-if = "menuRight.indexOf(2001004003) != -1" >|</label>
                        <button class = "common_table_operate_text" ng-if = "menuRight.indexOf(2001004004) != -1" ng-disabled="selectedTamgr.maid == 0" ng-click = "showAuthorizeOperInfoDlg(cell)">权限</button>
						<label class = "common_table_operate_divider" ng-if = "menuRight.indexOf(2001004004) != -1" >|</label>
						<!--<button class = "common_table_operate_text" ng-if = "menuRight.indexOf(2001004005) != -1"  ng-click = "showAltOperPswDlg(cell,'alt')">密码修改</button>
						<label class = "common_table_operate_divider" ng-if = "menuRight.indexOf(2001004005) != -1" >|</label>-->
						<button class = "common_table_operate_text" ng-if = "menuRight.indexOf(2001004005) != -1"  ng-click = "showAltOperPswDlg(cell,'reset')">密码重置</button>
						<label class = "common_table_operate_divider" ng-if = "menuRight.indexOf(2001004005) != -1" >|</label>
						<button class = "common_table_operate_text" ng-click="showNewOperMacBind(cell)">终端绑定</button>
                    </td>
				</tr>
			</tbody>
		</table>
	</div>

	<div class = "common_modal_back" id = "operManage_modal_back">
        <div ng-include = "modalInfo.path" onload = "operManageLoadModalReady()"></div>
	</div>

	<div class = "common_modal_back_lv2" id = "main_modal_back_lv2">
			<div ng-include = "modalInfoLv2.path" onload = "operManageLoadModal2Ready()"></div>
		</div>
</div>
